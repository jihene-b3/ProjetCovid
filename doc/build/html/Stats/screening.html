

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Screening &mdash; Covid Visualization 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css\custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="ICU" href="icu.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Covid Visualization
          

          
            
            <img src="../_static/map_departments.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Installation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Installation/install.html">How to install</a></li>
</ul>
<p class="caption"><span class="caption-text">Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../loading_data/load_data.html">Load from database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../format_data/format.html">Format dataframe</a></li>
</ul>
<p class="caption"><span class="caption-text">Maps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Maps/maps.html">Covid Map</a></li>
</ul>
<p class="caption"><span class="caption-text">Graph</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sparse/graph.html">Graph</a></li>
</ul>
<p class="caption"><span class="caption-text">Statistics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="covidtime.html">Covid time</a></li>
<li class="toctree-l1"><a class="reference internal" href="demographicfactors.html">Demographic factors</a></li>
<li class="toctree-l1"><a class="reference internal" href="icu.html">ICU</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Screening</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-covidviz.screening.graphs">Graphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-covidviz.screening.plot_map">Plot map</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Covid Visualization</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Screening</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/Stats/screening.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="screening">
<h1>Screening<a class="headerlink" href="#screening" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-covidviz.screening.graphs">
<span id="graphs"></span><h2>Graphs<a class="headerlink" href="#module-covidviz.screening.graphs" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="covidviz.screening.graphs.daily_test">
<code class="sig-name descname">daily_test</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">age</span></em>, <em class="sig-param"><span class="n">department</span></em>, <em class="sig-param"><span class="n">screening_daily</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.graphs.daily_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the barplot of screenings performed per day by age group and department.
The more intense the color of the bar (towards yellow),
the higher the percentage of number of positive tests (the reference is placed to the right of the graph). 
The ‘plotly’ package allows you to zoom the desired period.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>age</strong> (<em>int</em>) – age class in [9, 19, 29, 39, 49, 59, 69, 79, 89, 90]</p></li>
<li><p><strong>department</strong> (<em>str</em>) – french department like ‘34’ (for Hérault department)</p></li>
<li><p><strong>screening_daily</strong> (<em>dataframe</em>) – data on the number of screenings carried out by age group and / or department</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>bar plot (from plotly)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.graphs.daily_test_age">
<code class="sig-name descname">daily_test_age</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">age_class</span></em>, <em class="sig-param"><span class="n">screening_daily</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.graphs.daily_test_age" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the barplot of screenings performed per day by age.
The more intense the color of the bar (towards yellow),
the higher the percentage of number of positive tests (the reference is placed to the right of the graph). 
The ‘plotly’ package allows you to zoom the desired period.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>age</strong> (<em>int</em>) – age class in [9, 19, 29, 39, 49, 59, 69, 79, 89, 90]</p></li>
<li><p><strong>screening_daily</strong> (<em>dataframe</em>) – data on the number of screenings carried out by age group and / or department</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>bar plot (from plotly)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.graphs.daily_test_dep">
<code class="sig-name descname">daily_test_dep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">department</span></em>, <em class="sig-param"><span class="n">screening_daily</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.graphs.daily_test_dep" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the barplot of screenings performed per day by department.
The more intense the color of the bar (towards yellow),
the higher the percentage of number of positive tests (the reference is placed to the right of the graph). 
The ‘plotly’ package allows you to zoom the desired period.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>department</strong> (<em>str</em>) – french department like ‘34’ (for Hérault department)</p></li>
<li><p><strong>screening_daily</strong> (<em>dataframe</em>) – data on the number of screenings carried out by age group and / or department</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>bar plot (from plotly)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.graphs.screening_by_age">
<code class="sig-name descname">screening_by_age</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">screening_daily</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.graphs.screening_by_age" title="Permalink to this definition">¶</a></dt>
<dd><p>We regroup data by age. We add the columns :</p>
<blockquote>
<div><ul class="simple">
<li><p>‘Tests cumul’ : indicates the number of cumulative screenings since the first day (first line of data), per day.</p></li>
<li><p>‘% positive tests’ : indicates the percentage of positive screenings.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>screening_daily</strong> (<em>dataframe</em>) – data on the number of screenings carried out by age group and / or department</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>screening_daily_age</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.graphs.screening_by_age_dep">
<code class="sig-name descname">screening_by_age_dep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">screening_daily</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.graphs.screening_by_age_dep" title="Permalink to this definition">¶</a></dt>
<dd><p>We regroup data by age (we will filter by department after). We add the columns :</p>
<blockquote>
<div><ul class="simple">
<li><p>‘Tests cumul’ : indicates the number of cumulative screenings since the first day (first line of data), per day.</p></li>
<li><p>‘% positive tests’ : indicates the percentage of positive screenings.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>screening_daily</strong> (<em>dataframe</em>) – data on the number of screenings carried out by age group and / or department</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>screening_daily_age_dep</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.graphs.screening_by_dep">
<code class="sig-name descname">screening_by_dep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">screening_daily</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.graphs.screening_by_dep" title="Permalink to this definition">¶</a></dt>
<dd><p>We regroup data by department. We add the columns :</p>
<blockquote>
<div><ul class="simple">
<li><p>‘Tests cumul’ :indicates the number of cumulative screenings since the first day (first line of data), per day.</p></li>
<li><p>‘% positive tests’ : indicates the percentage of positive screenings.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>screening_daily</strong> (<em>dataframe</em>) – data on the number of screenings carried out by age group and / or department</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>screening_daily_dep</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-covidviz.screening.plot_map">
<span id="plot-map"></span><h2>Plot map<a class="headerlink" href="#module-covidviz.screening.plot_map" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="covidviz.screening.plot_map.clean_dep">
<code class="sig-name descname">clean_dep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dep_fr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.plot_map.clean_dep" title="Permalink to this definition">¶</a></dt>
<dd><p>We (quickly) clean the dataframe by deleting the empty columns.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dep_fr</strong> (<em>dataframe</em>) – coordonates of french departments</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>df</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.plot_map.clean_private_centers">
<code class="sig-name descname">clean_private_centers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depis_acces_restreint</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.plot_map.clean_private_centers" title="Permalink to this definition">¶</a></dt>
<dd><p>We clean the dataframe ‘depis_acces_restreint’
We add a column who indicates the department code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>depis_acces_restreint</strong> (<em>dataframe</em>) – all informtations about screening centers in restricted access in France</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>df</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.plot_map.clean_public_centers">
<code class="sig-name descname">clean_public_centers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depis_grand_public</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.plot_map.clean_public_centers" title="Permalink to this definition">¶</a></dt>
<dd><p>We clean and complete the dataframe ‘depis_grand_public’ by adding missing informations.
We add a column who indicates the department code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>depis_grand_public</strong> (<em>dataframe</em>) – all informations about screening centers in public access in France</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>df</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.plot_map.map_dep">
<code class="sig-name descname">map_dep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">department</span></em>, <em class="sig-param"><span class="n">dep_fr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.plot_map.map_dep" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a map with one department</p>
<p>We display the french department (or DOM) map selected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>department</strong> (<em>str</em>) – french department or DOM code</p></li>
<li><p><strong>dep_fr</strong> (<em>dataframe</em>) – all french departments and DOM coordinates</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dep_map</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Folium Map Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.plot_map.map_screening">
<code class="sig-name descname">map_screening</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dep_code</span></em>, <em class="sig-param"><span class="n">dep_fr</span></em>, <em class="sig-param"><span class="n">depis_grand_public</span></em>, <em class="sig-param"><span class="n">depis_acces_restreint</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.plot_map.map_screening" title="Permalink to this definition">¶</a></dt>
<dd><p>We display the department selected map with all markers, with all screening centers informations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dep_code</strong> (<em>str</em>) – french department code like ‘34’ for Hérault</p></li>
<li><p><strong>dep_fr</strong> (<em>dataframe</em>) – all french departments coordinates</p></li>
<li><p><strong>depis_grand_public</strong> (<em>dataframe</em>) – data on screening centers in public access in France</p></li>
<li><p><strong>depis_acces_restreint</strong> (<em>dataframe</em>) – data on screening centers in restricted access in France</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>all_map_dep[dep_code]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Folium Map Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.plot_map.markers_set">
<code class="sig-name descname">markers_set</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dep_fr</span></em>, <em class="sig-param"><span class="n">depis_grand_public</span></em>, <em class="sig-param"><span class="n">depis_acces_restreint</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.plot_map.markers_set" title="Permalink to this definition">¶</a></dt>
<dd><p>We add all the markers in each department map. The markers indicate the screening centers.
The green markers indicate the public centers.
The red markers indicate the private centers.</p>
<p>Remark :
not all departments have restricted access screening centers,
so we clean the dictionary ‘depis_department_acces_restreint’ created
by deleting the keys of departments without screening centers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dep_fr</strong> (<em>dataframe</em>) – all french departments coordinates</p></li>
<li><p><strong>depis_grand_public</strong> (<em>dataframe</em>) – data on screening centers in public access in France</p></li>
<li><p><strong>depis_acces_restreint</strong> (<em>dataframe</em>) – data on screening centers in restricted access in France</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>all_map_dep</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dic</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.plot_map.regroup_map">
<code class="sig-name descname">regroup_map</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dep_fr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.plot_map.regroup_map" title="Permalink to this definition">¶</a></dt>
<dd><p>All french departments maps are regrouped in a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dep_fr</strong> (<em>dataframe</em>) – all french departments and DOM coordinates</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>all_map_dep</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.plot_map.regroup_private_center_by_dep">
<code class="sig-name descname">regroup_private_center_by_dep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depis_acces_restreint</span></em>, <em class="sig-param"><span class="n">dep_fr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.plot_map.regroup_private_center_by_dep" title="Permalink to this definition">¶</a></dt>
<dd><p>screening centers in restricted access by department regrouped in a dictionnary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depis_acces_restreint</strong> (<em>dataframe</em>) – all informtations about screening centers in restricted access in France</p></li>
<li><p><strong>dep_fr</strong> (<em>dataframe</em>) – all french departments and DOM coordinates</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>depis_department_acces_restreint</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="covidviz.screening.plot_map.regroup_public_center_by_dep">
<code class="sig-name descname">regroup_public_center_by_dep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">depis_grand_public</span></em>, <em class="sig-param"><span class="n">dep_fr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#covidviz.screening.plot_map.regroup_public_center_by_dep" title="Permalink to this definition">¶</a></dt>
<dd><p>screening centers in public access by department are regrouped in a dictionnary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>depis_grand_public</strong> (<em>dataframe</em>) – all informations about screening centers in public access in France</p></li>
<li><p><strong>dep_fr</strong> (<em>dataframe</em>) – all french departments and DOM coordinates</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>depis_department_grand_public</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="icu.html" class="btn btn-neutral float-left" title="ICU" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Jihène Belgaied, Zakaria Laabsi, Chloé Serre-Combe, Stephani Ujka.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>